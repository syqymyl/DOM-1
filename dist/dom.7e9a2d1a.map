{"version":3,"sources":["dom.js"],"names":["window","dom","create","string","container","document","createElement","innerHTML","trim","content","firstChild","after","node","node2","parentNode","insertBefore","nextSiBling","before","append","parent","appendChild","wrap","remove","removeChild","empty","array","x","push","attr","name","value","arguments","length","setAttribute","getAttribute","text","innerText","textContent","html","style","Object","key","class","add","className","classList","has","contains","on","eventName","fn","addEventListener","off","removeEventListener","find","selector","scope","querySelectorAll","children","siblings","Array","from","filter","n","next","nextSibling","nodeType","previous","previousSibling","each","nodeList","i","call","index","list"],"mappings":"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","file":"dom.7e9a2d1a.map","sourceRoot":"..\\src","sourcesContent":["window.dom = {\r\n  create(string) {\r\n    //创建节点\r\n    const container = document.createElement(\"template\");\r\n    container.innerHTML = string.trim();\r\n    return container.content.firstChild;\r\n  },\r\n  after(node, node2) {\r\n    //新增下一节点\r\n    //DOM API中没有insertAfter，只能用insertBefore\r\n    node.parentNode.insertBefore(node2, node.nextSiBling);\r\n  },\r\n  before(node, node2) {\r\n    //新增上一节点\r\n    node.parentNode.insertBefore(node2, node);\r\n  },\r\n  append(parent, node) {\r\n    //新增子节点\r\n    parent.appendChild(node);\r\n  },\r\n  wrap(node, parent) {\r\n    //新增父节点\r\n    dom.before(node, parent);\r\n    dom.append(parent, node);\r\n  },\r\n  remove(node) {\r\n    //删除节点\r\n    node.parentNode.removeChild(node); // node.remove()有些浏览器不支持\r\n    return node; // 保留引用\r\n  },\r\n  empty(node) {\r\n    // 删除子节点：文本节点也会移除\r\n    const array = [];\r\n    let x = node.firstChild;\r\n    while (x) {\r\n      array.push(dom.remove(node.firstChild));\r\n      x = node.firstChild;\r\n    }\r\n    return array;\r\n  },\r\n  attr(node, name, value) {\r\n    // 读写属性\r\n    if (arguments.length === 3) {\r\n      node.setAttribute(name, value);\r\n    } else if (arguments.length === 2) {\r\n      return node.getAttribute(name);\r\n    }\r\n  },\r\n  text(node, string) {\r\n    // 读写文本内容，注意适配\r\n    if (arguments.length === 2) {\r\n      //修改text\r\n      if (\"innerText\" in node) {\r\n        node.innerText = string; // ie\r\n      } else {\r\n        node.textContent = string; // firefox / Chrome\r\n      }\r\n    } else if (arguments.length === 1) {\r\n      // 获取text\r\n      if (\"innerText\" in node) {\r\n        return node.innerText;\r\n      } else {\r\n        return node.textContent;\r\n      }\r\n    }\r\n  },\r\n  html(node, string) {\r\n    //读写HTML内容\r\n    if (arguments.length === 2) {\r\n      node.innerHTML = string;\r\n    } else if (arguments.length === 1) {\r\n      return node.innerHTML;\r\n    }\r\n  },\r\n  style(node, name, value) {\r\n    //修改style\r\n    if (arguments.length === 3) {\r\n      //调用栗子：dom.style(div, 'color', 'red')\r\n      node.style[name] = value;\r\n    } else if (arguments.length === 2) {\r\n      if (typeof name === \"string\") {\r\n        //调用栗子：dom.style(div, 'color')\r\n        return node.style[name];\r\n      } else if (name instanceof Object) {\r\n        //调用栗子：dom.style(div, {color:'red'})\r\n        for (let key in name) {\r\n          // key: border/color\r\n          // node.style.border = ...\r\n          // node.style.color = ...\r\n          node.style[key] = name[key];\r\n          //使用变量名作为属性名时，变量名要用[]括起来\r\n        }\r\n      }\r\n    }\r\n  },\r\n  class: {\r\n    add(node, className) {\r\n      node.classList.add(className);\r\n    },\r\n    remove(node, className) {\r\n      node.classList.remove(className);\r\n    },\r\n    has(node, className) {\r\n      //根据属性名判断是否存在该节点\r\n      return node.classList.contains(className);\r\n    },\r\n  },\r\n  on(node, eventName, fn) {\r\n    //添加事件监听\r\n    node.addEventListener(eventName, fn);\r\n  },\r\n  off(node, eventName, fn) {\r\n    //删除事件监听\r\n    node.removeEventListener(eventName, fn);\r\n  },\r\n  find(selector, scope) {\r\n    //获取标签，返回的是标签数组\r\n    return (scope || document).querySelectorAll(selector);\r\n  },\r\n  parent(node) {\r\n    //获取父元素\r\n    return node.parentNode;\r\n  },\r\n  children(node) {\r\n    //获取子元素\r\n    return node.children;\r\n  },\r\n  siblings(node) {\r\n    //获取兄弟姐妹元素\r\n    return Array.from(node.parentNode.children).filter((n) => n !== node);\r\n    //node.parentNode.children返回的是一个伪数组\r\n  },\r\n  next(node) {\r\n    //获取下一节点（除文本）\r\n    let x = node.nextSibling;\r\n    while (x && x.nodeType === 3) {\r\n      //如果下一个节点存在且是文本节点就取该节点的下一个\r\n      x = x.nextSibling;\r\n    }\r\n    return x;\r\n  },\r\n  previous(node) {\r\n    //获取上一节点（除文本）\r\n    let x = node.previousSibling;\r\n    while (x && x.nodeType === 3) {\r\n      x = x.previousSibling;\r\n    }\r\n    return x;\r\n  },\r\n  each(nodeList, fn) {\r\n    //遍历所有节点\r\n    for (let i = 0; i < nodeList.length; i++) {\r\n      fn.call(null, nodeList[i]);\r\n    }\r\n  },\r\n  index(node) {\r\n    //获取位置排行：返回的位置从0开始\r\n    const list = dom.children(node.parentNode);\r\n    for (let i = 0; i < list.length; i++) {\r\n      if (list[i] === node) {\r\n        return i;\r\n      }\r\n    }\r\n  },\r\n};\r\n"]}